<head>
    <title>TH KÃ¶ln ARS</title>
</head>

<body>
<h1>Welcome to THK ARS!</h1>

{{> loginButtons }}
<br/>

{{#if sessionExist}}
    {{> sessionCreated}}
{{else}}
    {{> default }}
{{/if}}

{{>questionTemplate}}
</body>

<template name="default">
    <h1>Create a Sessions</h1>
    {{#if currentUser}}
        <button class="btnCreate">Create a Session</button>{{/if}}
    <br/>
    <form id="formJoin">
        <input id="btnJoin" type="text" name="sessionId" placeholder="Session ID"/>
        <button type="submit" class="btnJoin">Join a Session</button>
    </form>
</template>

<template name="sessionCreated">
    <h1>Session View</h1>
    {{#each session}}
        <p>SessionID: {{sessionId}}</p>
        <p>Owner: {{username}}</p>

        <p>Current User: {{#if currentUser}}{{currentUser.username}}{{else}}Anonymous{{/if}}</p>
        {{#if isOwner}}

            <br/>
            <form id="formQuestion">
                <input type="text" name="questionTxt">
                <button type="submit" class="btnAddQuestion">Add a question</button>
            </form>
            <button type="submit" class="btnDelete">Delete Sessions</button>

        {{else}}
            <button type="submit" class="btnLeave">Leave Session</button>
        {{/if}}
    {{/each}}
</template>

<template name="questionTemplate">
    <table>
        {{#each questions}}
            <tr>{{questions.question}}</tr>
        {{/each}}
    </table>
</template>